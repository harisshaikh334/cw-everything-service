<!--
  Generated template for the AddProductPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header class="bg-color">
  <ion-navbar>
      <ion-title>{{pageHeading | translate}}</ion-title>
  </ion-navbar>  
</ion-header>

<ion-content class="bg-color">
  <div *ngIf="showLoader" class="loader-bg">
    <ion-spinner class="spinner" color="light"></ion-spinner>
  </div>
  <div class="form">
    <form [formGroup]="productForm" *ngIf="productForm">
      <ion-list no-lines>
        <ion-item>
          <ion-label floating>{{'Product Name' | translate}}</ion-label>
          <ion-input autocomplete="off" formControlName="product_name" type="text"></ion-input>
        </ion-item>
        <p class='error' *ngIf="productForm && !productForm?.controls.product_name.valid  && (productForm.controls.product_name.dirty || submitAttempt)">Please write valid product name.</p>
       <ion-item>
          <ion-label>{{'Unit' | translate}}</ion-label>
          <ion-select formControlName="product_unit">
               <ion-option *ngFor="let item of unit_list" [value]="item.value">{{item.name}}</ion-option>
          </ion-select>
        </ion-item>
        <p class='error' *ngIf="productForm && !productForm?.controls.product_unit.valid  && (productForm.controls.product_unit.dirty || submitAttempt)">Please write valid unit.</p>
        <ion-item>
            <ion-label floating>Unit Value</ion-label>
            <ion-input autocomplete="off" formControlName="unit_value" type="text"></ion-input>
        </ion-item>
        <p class='error' *ngIf="productForm && !productForm?.controls.unit_value.valid  && (productForm.controls.unit_value.dirty || submitAttempt)">Please write valid unit value.</p>
      
        <ion-item>
          <ion-label floating>Sale Price</ion-label>
          <ion-input autocomplete="off" formControlName="sale_price" type="text"></ion-input>
        </ion-item>
        <p class='error' *ngIf="productForm && !productForm?.controls.sale_price.valid  && (productForm.controls.sale_price.dirty || submitAttempt)">Please write valid valid sale price.</p>
      
        <ion-item>
            <ion-label floating>{{'MRP' | translate}}</ion-label>
            <ion-input autocomplete="off" formControlName="product_mrp" type="text"></ion-input>
        </ion-item>
        <p class='error' *ngIf="productForm && !productForm?.controls.product_mrp.valid  && (productForm.controls.product_mrp.dirty || submitAttempt)">Please write valid MRP.</p>
      
        <ion-item>
            <ion-label floating>{{'Discounted Price' | translate}}</ion-label>
            <ion-input autocomplete="off" formControlName="discount_price" type="text"></ion-input>
        </ion-item>
        <p class='error' *ngIf="productForm && !productForm?.controls.discount_price.valid  && (productForm.controls.discount_price.dirty || submitAttempt)">Please write valid discounted price.</p>
      
        <ion-item>
          <ion-label class="clickEnableCls">In Stock</ion-label>
          <ion-checkbox formControlName="in_stock"></ion-checkbox>
      </ion-item>
      <ion-item>
        <ion-label floating>Description</ion-label>
        <ion-textarea formControlName="description" rows="2"></ion-textarea>
      </ion-item>
      <p class='error' *ngIf="productForm && !productForm?.controls.description.valid  && (productForm.controls.description.dirty || submitAttempt)">Please write valid description.</p>
      <ion-item>
        <div class="profile" (click)="file.click()" >
          <p *ngIf="!product_image">Select Image</p>
          <input hidden type="file" (change)="onSelImage($event.target.files)" #file placeholder="Profile Image" autocomplete="off">
          <img *ngIf="product_image" [src]="product_image" /> 
          <!-- <div (click)="actionSheetFile()" class="profile_img center_img">
              <img [src]="product_image || './../../assets/imgs/avatar.png'" class="crop_img loading" onerror="this.onerror=null;this.src='assets/imgs/avatar.png';" /> 
          </div>
          <ion-icon (click)="actionSheetFile()" class="material-icons">camera_alt</ion-icon> -->
      </div>
      </ion-item>  
    </ion-list>
      <button ion-button block class="btn" (click)="addProduct()"> {{btnHeading | translate}}</button>
    </form>
  </div>
</ion-content>
